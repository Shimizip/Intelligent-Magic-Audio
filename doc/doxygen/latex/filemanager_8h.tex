\doxysection{f401\+\_\+display\+\_\+encoder\+\_\+fader\+\_\+test/\+Core/\+Inc/filemanager.h File Reference}
\hypertarget{filemanager_8h}{}\label{filemanager_8h}\index{f401\_display\_encoder\_fader\_test/Core/Inc/filemanager.h@{f401\_display\_encoder\_fader\_test/Core/Inc/filemanager.h}}


\+: Header file for file management functions and structures  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structFile}{File}}
\begin{DoxyCompactList}\small\item\em Structure representing a file with its name and classification classes. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structFileManager}{File\+Manager}}
\begin{DoxyCompactList}\small\item\em Structure to manage the files and their display on the LCD. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{filemanager_8h_a2c5eecb22513a88c24ae5831a3265e54}{MAX\+\_\+\+FILES}}~500
\begin{DoxyCompactList}\small\item\em Maximum number of files and filename length. \end{DoxyCompactList}\item 
\Hypertarget{filemanager_8h_a6773b93f3093658c3dcb569de3b4bdb2}\label{filemanager_8h_a6773b93f3093658c3dcb569de3b4bdb2} 
\#define {\bfseries MAX\+\_\+\+FILENAME\+\_\+\+LENGTH}~30
\item 
\#define \mbox{\hyperlink{filemanager_8h_aa322a61b17e1d56852d53d5ef6a728c6}{MAX\+\_\+\+CLASSES}}~4
\begin{DoxyCompactList}\small\item\em Number of classes for file classification. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{filemanager_8h_a2d4a0d149ebe553d221448e121f84e37}{EXISTS}}~0
\begin{DoxyCompactList}\small\item\em \doxylink{structFile}{File} existence status codes. \end{DoxyCompactList}\item 
\Hypertarget{filemanager_8h_acf206975a08f0fda2b9ed60f5bc41f50}\label{filemanager_8h_acf206975a08f0fda2b9ed60f5bc41f50} 
\#define {\bfseries NOT\+\_\+\+EXISTS}~-\/1
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{filemanager_8h_a1d2aec9a680d7e2704142c2a6defa6c9}{initialize\+File\+Manager}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}})
\begin{DoxyCompactList}\small\item\em Initializes default values for the \doxylink{structFileManager}{File\+Manager}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{filemanager_8h_a79cd61e84005f1f92fd6734f1f9fcfe4}{add\+File}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}}, const char \texorpdfstring{$\ast$}{*}filename, const float \texorpdfstring{$\ast$}{*}classes)
\begin{DoxyCompactList}\small\item\em Adds a file to the \doxylink{structFileManager}{File\+Manager}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{filemanager_8h_a4932814db095e12be240fb48795fdf9f}{select\+File}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}})
\begin{DoxyCompactList}\small\item\em Sets the current file index to the cursor position. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{filemanager_8h_a36c03e6d99d0ec0b9d869fa9d0a82f76}{cursor\+Up}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}})
\begin{DoxyCompactList}\small\item\em Decrements the cursor index in the \doxylink{structFileManager}{File\+Manager}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{filemanager_8h_a46c2e8686d0bbe0a19fe2f5739a9e847}{cursor\+Down}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}})
\begin{DoxyCompactList}\small\item\em Increments the cursor index in the \doxylink{structFileManager}{File\+Manager}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{filemanager_8h_af33812c5f9c6760c8e85086d2ea3159e}{safe\+Current\+File\+Name}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}})
\begin{DoxyCompactList}\small\item\em Saves the filename at the current cursor index. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{filemanager_8h_aeb9088d6ad78311650de4a9563202d95}{set\+Cursor}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}})
\begin{DoxyCompactList}\small\item\em Sets the cursor position based on the currently displayed files in the \doxylink{structFileManager}{File\+Manager}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\+: Header file for file management functions and structures 

\begin{DoxyAttention}{Attention}

\end{DoxyAttention}
This file contains the definitions for managing files within the file management system. It includes\+:
\begin{DoxyItemize}
\item Constants defining limits and statuses for files.
\item Structures for storing file information and managing file operations.
\item Function prototypes for initializing the file manager, adding files, handling file selection, and managing cursor operations.
\end{DoxyItemize}

The {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure handles the storage and management of files, including their classification and display. This file serves as an interface for interacting with the file management system, providing functions to manipulate file lists and update file selections. 

\doxysubsection{Macro Definition Documentation}
\Hypertarget{filemanager_8h_a2d4a0d149ebe553d221448e121f84e37}\index{filemanager.h@{filemanager.h}!EXISTS@{EXISTS}}
\index{EXISTS@{EXISTS}!filemanager.h@{filemanager.h}}
\doxysubsubsection{\texorpdfstring{EXISTS}{EXISTS}}
{\footnotesize\ttfamily \label{filemanager_8h_a2d4a0d149ebe553d221448e121f84e37} 
\#define EXISTS~0}



\doxylink{structFile}{File} existence status codes. 

These constants are used to indicate whether a file exists or not. \Hypertarget{filemanager_8h_aa322a61b17e1d56852d53d5ef6a728c6}\index{filemanager.h@{filemanager.h}!MAX\_CLASSES@{MAX\_CLASSES}}
\index{MAX\_CLASSES@{MAX\_CLASSES}!filemanager.h@{filemanager.h}}
\doxysubsubsection{\texorpdfstring{MAX\_CLASSES}{MAX\_CLASSES}}
{\footnotesize\ttfamily \label{filemanager_8h_aa322a61b17e1d56852d53d5ef6a728c6} 
\#define MAX\+\_\+\+CLASSES~4}



Number of classes for file classification. 

This constant defines the number of classes used in the sorting algorithm to categorize files. \Hypertarget{filemanager_8h_a2c5eecb22513a88c24ae5831a3265e54}\index{filemanager.h@{filemanager.h}!MAX\_FILES@{MAX\_FILES}}
\index{MAX\_FILES@{MAX\_FILES}!filemanager.h@{filemanager.h}}
\doxysubsubsection{\texorpdfstring{MAX\_FILES}{MAX\_FILES}}
{\footnotesize\ttfamily \label{filemanager_8h_a2c5eecb22513a88c24ae5831a3265e54} 
\#define MAX\+\_\+\+FILES~500}



Maximum number of files and filename length. 

These constants define the maximum number of files that can be handled and the maximum length of a filename. 

\doxysubsection{Function Documentation}
\Hypertarget{filemanager_8h_a79cd61e84005f1f92fd6734f1f9fcfe4}\index{filemanager.h@{filemanager.h}!addFile@{addFile}}
\index{addFile@{addFile}!filemanager.h@{filemanager.h}}
\doxysubsubsection{\texorpdfstring{addFile()}{addFile()}}
{\footnotesize\ttfamily \label{filemanager_8h_a79cd61e84005f1f92fd6734f1f9fcfe4} 
void add\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{filename}{, }\item[{const float \texorpdfstring{$\ast$}{*}}]{classes}{}\end{DoxyParamCaption})}



Adds a file to the \doxylink{structFileManager}{File\+Manager}. 

This function adds a file to the {\ttfamily files\mbox{[}\mbox{]}} array within the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure. It associates the given file name with its corresponding class values and updates the file manager accordingly.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure to which the file will be added. \\
\hline
\mbox{\texttt{ in}}  & {\em filename} & The name of the file to be added to the {\ttfamily \doxylink{structFileManager}{File\+Manager}}. \\
\hline
\mbox{\texttt{ in}}  & {\em classes} & Array of float values representing the file\textquotesingle{}s class percentages.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Ensure that the {\ttfamily \doxylink{structFileManager}{File\+Manager}} has sufficient capacity in the {\ttfamily files\mbox{[}\mbox{]}} array to accommodate new files. 
\end{DoxyNote}
\Hypertarget{filemanager_8h_a46c2e8686d0bbe0a19fe2f5739a9e847}\index{filemanager.h@{filemanager.h}!cursorDown@{cursorDown}}
\index{cursorDown@{cursorDown}!filemanager.h@{filemanager.h}}
\doxysubsubsection{\texorpdfstring{cursorDown()}{cursorDown()}}
{\footnotesize\ttfamily \label{filemanager_8h_a46c2e8686d0bbe0a19fe2f5739a9e847} 
void cursor\+Down (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{}\end{DoxyParamCaption})}



Increments the cursor index in the \doxylink{structFileManager}{File\+Manager}. 

This function increments the {\ttfamily cursor\+\_\+index} within the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure to move the cursor visually lower on the LCD display.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure whose {\ttfamily cursor\+\_\+index} is to be incremented. \\
\hline
\end{DoxyParams}
\Hypertarget{filemanager_8h_a36c03e6d99d0ec0b9d869fa9d0a82f76}\index{filemanager.h@{filemanager.h}!cursorUp@{cursorUp}}
\index{cursorUp@{cursorUp}!filemanager.h@{filemanager.h}}
\doxysubsubsection{\texorpdfstring{cursorUp()}{cursorUp()}}
{\footnotesize\ttfamily \label{filemanager_8h_a36c03e6d99d0ec0b9d869fa9d0a82f76} 
void cursor\+Up (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{}\end{DoxyParamCaption})}



Decrements the cursor index in the \doxylink{structFileManager}{File\+Manager}. 

This function decrements the {\ttfamily cursor\+\_\+index} within the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure to move the cursor visually higher on the LCD display.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure whose {\ttfamily cursor\+\_\+index} is to be decremented. \\
\hline
\end{DoxyParams}
\Hypertarget{filemanager_8h_a1d2aec9a680d7e2704142c2a6defa6c9}\index{filemanager.h@{filemanager.h}!initializeFileManager@{initializeFileManager}}
\index{initializeFileManager@{initializeFileManager}!filemanager.h@{filemanager.h}}
\doxysubsubsection{\texorpdfstring{initializeFileManager()}{initializeFileManager()}}
{\footnotesize\ttfamily \label{filemanager_8h_a1d2aec9a680d7e2704142c2a6defa6c9} 
void initialize\+File\+Manager (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{}\end{DoxyParamCaption})}



Initializes default values for the \doxylink{structFileManager}{File\+Manager}. 

This function sets default values for the given {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure. It initializes various fields to prepare the file manager for use.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure to be initialized. \\
\hline
\end{DoxyParams}
\Hypertarget{filemanager_8h_af33812c5f9c6760c8e85086d2ea3159e}\index{filemanager.h@{filemanager.h}!safeCurrentFileName@{safeCurrentFileName}}
\index{safeCurrentFileName@{safeCurrentFileName}!filemanager.h@{filemanager.h}}
\doxysubsubsection{\texorpdfstring{safeCurrentFileName()}{safeCurrentFileName()}}
{\footnotesize\ttfamily \label{filemanager_8h_af33812c5f9c6760c8e85086d2ea3159e} 
void safe\+Current\+File\+Name (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{}\end{DoxyParamCaption})}



Saves the filename at the current cursor index. 

This function copies the filename of the file currently pointed to by {\ttfamily cursor\+\_\+index} in the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure to {\ttfamily current\+\_\+cursor\+\_\+filename}. It updates the {\ttfamily current\+\_\+cursor\+\_\+filename} with the filename from the {\ttfamily shown\+Files} array at the position indicated by {\ttfamily cursor\+\_\+index}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure from which the filename is retrieved and stored.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Ensure that {\ttfamily cursor\+\_\+index} is within the valid range of indices in the {\ttfamily shown\+Files} array to avoid out-\/of-\/bounds access. The {\ttfamily current\+\_\+cursor\+\_\+filename} should have sufficient space allocated to store the filename. 
\end{DoxyNote}
\Hypertarget{filemanager_8h_a4932814db095e12be240fb48795fdf9f}\index{filemanager.h@{filemanager.h}!selectFile@{selectFile}}
\index{selectFile@{selectFile}!filemanager.h@{filemanager.h}}
\doxysubsubsection{\texorpdfstring{selectFile()}{selectFile()}}
{\footnotesize\ttfamily \label{filemanager_8h_a4932814db095e12be240fb48795fdf9f} 
void select\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{}\end{DoxyParamCaption})}



Sets the current file index to the cursor position. 

This function updates the {\ttfamily current\+\_\+file\+\_\+index} in the {\ttfamily \doxylink{structFileManager}{File\+Manager}} to the current position of the {\ttfamily cursor\+\_\+index}. This allows the file at the cursor position to be marked as the selected file, which can then be processed or displayed as needed.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure in which the {\ttfamily current\+\_\+file\+\_\+index} will be set to the value of {\ttfamily cursor\+\_\+index}. \\
\hline
\end{DoxyParams}
\Hypertarget{filemanager_8h_aeb9088d6ad78311650de4a9563202d95}\index{filemanager.h@{filemanager.h}!setCursor@{setCursor}}
\index{setCursor@{setCursor}!filemanager.h@{filemanager.h}}
\doxysubsubsection{\texorpdfstring{setCursor()}{setCursor()}}
{\footnotesize\ttfamily \label{filemanager_8h_aeb9088d6ad78311650de4a9563202d95} 
void set\+Cursor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{}\end{DoxyParamCaption})}



Sets the cursor position based on the currently displayed files in the \doxylink{structFileManager}{File\+Manager}. 

This function adjusts the {\ttfamily cursor\+\_\+index} in the {\ttfamily \doxylink{structFileManager}{File\+Manager}} based on the currently displayed files and their relevance to the fader settings. The behavior of the function is as follows\+:


\begin{DoxyItemize}
\item If no files match the fader settings ({\ttfamily num\+\_\+matched\+\_\+files} is 0)\+:
\begin{DoxyItemize}
\item The cursor is set to the start (index 0).
\end{DoxyItemize}
\item If the {\ttfamily current\+\_\+cursor\+\_\+filename} matches one of the filenames in {\ttfamily shown\+Files}\+:
\begin{DoxyItemize}
\item The cursor is positioned at the index of the matching file in the {\ttfamily shown\+Files} array.
\end{DoxyItemize}
\item If the {\ttfamily current\+\_\+cursor\+\_\+filename} no longer exists in {\ttfamily shown\+Files}\+:
\begin{DoxyItemize}
\item The {\ttfamily current\+\_\+cursor\+\_\+filename} is updated to the filename at the position indicated by {\ttfamily current\+\_\+file\+\_\+index}.
\end{DoxyItemize}
\item If {\ttfamily cursor\+\_\+index} is larger than the number of matched files\+:
\begin{DoxyItemize}
\item The {\ttfamily cursor\+\_\+index} is set to the last position in the list.
\end{DoxyItemize}
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure used to adjust the cursor position. \\
\hline
\end{DoxyParams}
