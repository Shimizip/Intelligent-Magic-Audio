\doxysection{f401\+\_\+display\+\_\+encoder\+\_\+fader\+\_\+test/\+Core/\+Src/filemanager.c File Reference}
\hypertarget{filemanager_8c}{}\label{filemanager_8c}\index{f401\_display\_encoder\_fader\_test/Core/Src/filemanager.c@{f401\_display\_encoder\_fader\_test/Core/Src/filemanager.c}}


\+: \doxylink{structFile}{File} management functions for handling files and cursor operations  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include "{}filemanager.\+h"{}}\newline
{\ttfamily \#include "{}display.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{filemanager_8c_a1d2aec9a680d7e2704142c2a6defa6c9}{initialize\+File\+Manager}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}})
\begin{DoxyCompactList}\small\item\em Initializes default values for the \doxylink{structFileManager}{File\+Manager}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{filemanager_8c_a79cd61e84005f1f92fd6734f1f9fcfe4}{add\+File}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}}, const char \texorpdfstring{$\ast$}{*}filename, const float \texorpdfstring{$\ast$}{*}classes)
\begin{DoxyCompactList}\small\item\em Adds a file to the \doxylink{structFileManager}{File\+Manager}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{filemanager_8c_a36c03e6d99d0ec0b9d869fa9d0a82f76}{cursor\+Up}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}})
\begin{DoxyCompactList}\small\item\em Decrements the cursor index in the \doxylink{structFileManager}{File\+Manager}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{filemanager_8c_a46c2e8686d0bbe0a19fe2f5739a9e847}{cursor\+Down}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}})
\begin{DoxyCompactList}\small\item\em Increments the cursor index in the \doxylink{structFileManager}{File\+Manager}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{filemanager_8c_af33812c5f9c6760c8e85086d2ea3159e}{safe\+Current\+File\+Name}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}})
\begin{DoxyCompactList}\small\item\em Saves the filename at the current cursor index. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{filemanager_8c_aeb9088d6ad78311650de4a9563202d95}{set\+Cursor}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}})
\begin{DoxyCompactList}\small\item\em Sets the cursor position based on the currently displayed files in the \doxylink{structFileManager}{File\+Manager}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{filemanager_8c_a4932814db095e12be240fb48795fdf9f}{select\+File}} (\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{f401__display__encoder__fader__test_2Core_2Src_2main_8c_a48052dfd7ff5a05459e719f9a2fc027c}{fm}})
\begin{DoxyCompactList}\small\item\em Sets the current file index to the cursor position. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\+: \doxylink{structFile}{File} management functions for handling files and cursor operations 

\begin{DoxyAttention}{Attention}

\end{DoxyAttention}
This file contains the definitions and functions for managing files within the \doxylink{structFileManager}{File\+Manager} structure, including adding files, updating cursor positions, and handling file selection. It serves as the core for file management operations. 

\doxysubsection{Function Documentation}
\Hypertarget{filemanager_8c_a79cd61e84005f1f92fd6734f1f9fcfe4}\index{filemanager.c@{filemanager.c}!addFile@{addFile}}
\index{addFile@{addFile}!filemanager.c@{filemanager.c}}
\doxysubsubsection{\texorpdfstring{addFile()}{addFile()}}
{\footnotesize\ttfamily \label{filemanager_8c_a79cd61e84005f1f92fd6734f1f9fcfe4} 
void add\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{filename}{, }\item[{const float \texorpdfstring{$\ast$}{*}}]{classes}{}\end{DoxyParamCaption})}



Adds a file to the \doxylink{structFileManager}{File\+Manager}. 

This function adds a file to the {\ttfamily files\mbox{[}\mbox{]}} array within the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure. It associates the given file name with its corresponding class values and updates the file manager accordingly.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure to which the file will be added. \\
\hline
\mbox{\texttt{ in}}  & {\em filename} & The name of the file to be added to the {\ttfamily \doxylink{structFileManager}{File\+Manager}}. \\
\hline
\mbox{\texttt{ in}}  & {\em classes} & Array of float values representing the file\textquotesingle{}s class percentages.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Ensure that the {\ttfamily \doxylink{structFileManager}{File\+Manager}} has sufficient capacity in the {\ttfamily files\mbox{[}\mbox{]}} array to accommodate new files. 
\end{DoxyNote}
\Hypertarget{filemanager_8c_a46c2e8686d0bbe0a19fe2f5739a9e847}\index{filemanager.c@{filemanager.c}!cursorDown@{cursorDown}}
\index{cursorDown@{cursorDown}!filemanager.c@{filemanager.c}}
\doxysubsubsection{\texorpdfstring{cursorDown()}{cursorDown()}}
{\footnotesize\ttfamily \label{filemanager_8c_a46c2e8686d0bbe0a19fe2f5739a9e847} 
void cursor\+Down (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{}\end{DoxyParamCaption})}



Increments the cursor index in the \doxylink{structFileManager}{File\+Manager}. 

This function increments the {\ttfamily cursor\+\_\+index} within the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure to move the cursor visually lower on the LCD display.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure whose {\ttfamily cursor\+\_\+index} is to be incremented. \\
\hline
\end{DoxyParams}
\Hypertarget{filemanager_8c_a36c03e6d99d0ec0b9d869fa9d0a82f76}\index{filemanager.c@{filemanager.c}!cursorUp@{cursorUp}}
\index{cursorUp@{cursorUp}!filemanager.c@{filemanager.c}}
\doxysubsubsection{\texorpdfstring{cursorUp()}{cursorUp()}}
{\footnotesize\ttfamily \label{filemanager_8c_a36c03e6d99d0ec0b9d869fa9d0a82f76} 
void cursor\+Up (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{}\end{DoxyParamCaption})}



Decrements the cursor index in the \doxylink{structFileManager}{File\+Manager}. 

This function decrements the {\ttfamily cursor\+\_\+index} within the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure to move the cursor visually higher on the LCD display.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure whose {\ttfamily cursor\+\_\+index} is to be decremented. \\
\hline
\end{DoxyParams}
\Hypertarget{filemanager_8c_a1d2aec9a680d7e2704142c2a6defa6c9}\index{filemanager.c@{filemanager.c}!initializeFileManager@{initializeFileManager}}
\index{initializeFileManager@{initializeFileManager}!filemanager.c@{filemanager.c}}
\doxysubsubsection{\texorpdfstring{initializeFileManager()}{initializeFileManager()}}
{\footnotesize\ttfamily \label{filemanager_8c_a1d2aec9a680d7e2704142c2a6defa6c9} 
void initialize\+File\+Manager (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{}\end{DoxyParamCaption})}



Initializes default values for the \doxylink{structFileManager}{File\+Manager}. 

This function sets default values for the given {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure. It initializes various fields to prepare the file manager for use.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure to be initialized. \\
\hline
\end{DoxyParams}
\Hypertarget{filemanager_8c_af33812c5f9c6760c8e85086d2ea3159e}\index{filemanager.c@{filemanager.c}!safeCurrentFileName@{safeCurrentFileName}}
\index{safeCurrentFileName@{safeCurrentFileName}!filemanager.c@{filemanager.c}}
\doxysubsubsection{\texorpdfstring{safeCurrentFileName()}{safeCurrentFileName()}}
{\footnotesize\ttfamily \label{filemanager_8c_af33812c5f9c6760c8e85086d2ea3159e} 
void safe\+Current\+File\+Name (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{}\end{DoxyParamCaption})}



Saves the filename at the current cursor index. 

This function copies the filename of the file currently pointed to by {\ttfamily cursor\+\_\+index} in the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure to {\ttfamily current\+\_\+cursor\+\_\+filename}. It updates the {\ttfamily current\+\_\+cursor\+\_\+filename} with the filename from the {\ttfamily shown\+Files} array at the position indicated by {\ttfamily cursor\+\_\+index}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure from which the filename is retrieved and stored.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Ensure that {\ttfamily cursor\+\_\+index} is within the valid range of indices in the {\ttfamily shown\+Files} array to avoid out-\/of-\/bounds access. The {\ttfamily current\+\_\+cursor\+\_\+filename} should have sufficient space allocated to store the filename. 
\end{DoxyNote}
\Hypertarget{filemanager_8c_a4932814db095e12be240fb48795fdf9f}\index{filemanager.c@{filemanager.c}!selectFile@{selectFile}}
\index{selectFile@{selectFile}!filemanager.c@{filemanager.c}}
\doxysubsubsection{\texorpdfstring{selectFile()}{selectFile()}}
{\footnotesize\ttfamily \label{filemanager_8c_a4932814db095e12be240fb48795fdf9f} 
void select\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{}\end{DoxyParamCaption})}



Sets the current file index to the cursor position. 

This function updates the {\ttfamily current\+\_\+file\+\_\+index} in the {\ttfamily \doxylink{structFileManager}{File\+Manager}} to the current position of the {\ttfamily cursor\+\_\+index}. This allows the file at the cursor position to be marked as the selected file, which can then be processed or displayed as needed.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure in which the {\ttfamily current\+\_\+file\+\_\+index} will be set to the value of {\ttfamily cursor\+\_\+index}. \\
\hline
\end{DoxyParams}
\Hypertarget{filemanager_8c_aeb9088d6ad78311650de4a9563202d95}\index{filemanager.c@{filemanager.c}!setCursor@{setCursor}}
\index{setCursor@{setCursor}!filemanager.c@{filemanager.c}}
\doxysubsubsection{\texorpdfstring{setCursor()}{setCursor()}}
{\footnotesize\ttfamily \label{filemanager_8c_aeb9088d6ad78311650de4a9563202d95} 
void set\+Cursor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFileManager}{File\+Manager}} \texorpdfstring{$\ast$}{*}}]{fm}{}\end{DoxyParamCaption})}



Sets the cursor position based on the currently displayed files in the \doxylink{structFileManager}{File\+Manager}. 

This function adjusts the {\ttfamily cursor\+\_\+index} in the {\ttfamily \doxylink{structFileManager}{File\+Manager}} based on the currently displayed files and their relevance to the fader settings. The behavior of the function is as follows\+:


\begin{DoxyItemize}
\item If no files match the fader settings ({\ttfamily num\+\_\+matched\+\_\+files} is 0)\+:
\begin{DoxyItemize}
\item The cursor is set to the start (index 0).
\end{DoxyItemize}
\item If the {\ttfamily current\+\_\+cursor\+\_\+filename} matches one of the filenames in {\ttfamily shown\+Files}\+:
\begin{DoxyItemize}
\item The cursor is positioned at the index of the matching file in the {\ttfamily shown\+Files} array.
\end{DoxyItemize}
\item If the {\ttfamily current\+\_\+cursor\+\_\+filename} no longer exists in {\ttfamily shown\+Files}\+:
\begin{DoxyItemize}
\item The {\ttfamily current\+\_\+cursor\+\_\+filename} is updated to the filename at the position indicated by {\ttfamily current\+\_\+file\+\_\+index}.
\end{DoxyItemize}
\item If {\ttfamily cursor\+\_\+index} is larger than the number of matched files\+:
\begin{DoxyItemize}
\item The {\ttfamily cursor\+\_\+index} is set to the last position in the list.
\end{DoxyItemize}
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fm} & Pointer to the {\ttfamily \doxylink{structFileManager}{File\+Manager}} structure used to adjust the cursor position. \\
\hline
\end{DoxyParams}
